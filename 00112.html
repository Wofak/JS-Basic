<!DOCTYPE html>
<html>
<!-- Vending machine sample Q  -->

<head>
    <title>Document</title>
    <style>
        div {
            border-collapse: collapse;
            border: 1px black solid;
        }
    </style>
</head>

<body>
    <div>

        <button onclick="requestDrink(1);">코카콜라(700원)</button>
        <button onclick="requestDrink(2);">오렌지주스(1200원)</button>
        <button onclick="requestDrink(3);">커피(500원)</button>
        <button onclick="requestDrink(4);">물(700원)</button>

    </div>

    <div>
        <label>자판기 내 잔고</label><input type="text" name="" id="total_vending_amount" value="1000" readonly>
        <label>총 투입</label><input type="text" name="" id="total_input_amount" value="0" readonly>
        <label>현재 지갑</label><input type="text" name="" id="total_customer_amount" value="10000" readonly>
    </div>

    <div>
        <h4>동전투입</h4>

        <input type="button" name="insert" id="btn1" value="100">
        <input type="button" name="insert" id="btn2" value="500">
        <input type="button" name="insert" id="btn3" value="1000">



    </div>
    <script>
        // 음료목록
        // 콜라 700 오렌지주스 1200 커피 500 물 700
        // 보리차 1200 포카리 1000 뽀로로 1300
        // 음료는 각 5개씩

        //고객 지갑 10000원
        //자판기 최초 잔도 1000원

        // 동전 투입 - 100원, 500원, 1000원
        let total_vending_amount = 1000;
        let total_customer_amount = 10000;
        let total_input_amount = 0;

        let drinkList = [{
                drinkId: "1",
                drinkName: "콜라",
                price: 700,
                stock: 5
            },
            {
                drinkId: "2",
                drinkName: "오렌지주스",
                price: 1200,
                stock: 5
            },
            {
                drinkId: "3",
                drinkName: "커피",
                price: 500,
                stock: 5
            },
            {
                drinkId: "4",
                drinkName: "물",
                price: 700,
                stock: 5
            }
        ];

        document.getElementById('btn1').addEventListener('click', function () {
            total_input_amount += 100;
            total_vending_amount += 100;
            total_customer_amount -= 100;
            console.log("총 투입" + total_input_amount + "원")
            console.log("자판기내 잔고" + total_vending_amount + "원")
            console.log("현재 지갑" + total_customer_amount + "원")

            if (total_customer_amount < 100) {
                alert("지갑 잔액부족");
            }
            document.getElementById("total_input_amount").value = total_input_amount;
            document.getElementById("total_customer_amount").value = total_customer_amount;
            document.getElementById("total_vending_amount").value = total_vending_amount;
        })

        document.getElementById('btn2').addEventListener('click', function () {

            total_input_amount += 500;
            total_vending_amount += 500;
            total_customer_amount -= 500;
            console.log("총 투입" + total_input_amount + "원")
            console.log("자판기내 잔고" + total_vending_amount + "원")
            console.log("현재 지갑" + total_customer_amount + "원")

            if (total_customer_amount < 500) {
                alert("지갑 잔액부족");
            }
            document.getElementById("total_input_amount").value = total_input_amount;
            document.getElementById("total_customer_amount").value = total_customer_amount;
            document.getElementById("total_vending_amount").value = total_vending_amount;
        })

        document.getElementById('btn3').addEventListener('click', function () {
            total_input_amount += 1000;
            total_vending_amount += 1000;
            total_customer_amount -= 1000;
            console.log("총 투입" + total_input_amount + "원")
            console.log("자판기내 잔고" + total_vending_amount + "원")
            console.log("현재 지갑" + total_customer_amount + "원")

            if (total_customer_amount < 1000) {
                alert("지갑 잔액부족");
            }
            document.getElementById("total_input_amount").value = total_input_amount;
            document.getElementById("total_customer_amount").value = total_customer_amount;
            document.getElementById("total_vending_amount").value = total_vending_amount;
        })




        function requestDrink(drinkId) {
            console.log(drinkId);
            var drinkObj = null;
            for (var drink of drinkList) {
                if (drink.drinkId == drinkId) {
                    drinkObj = drink;
                }
            }

        }
        // var drink = drinkList.filter(d => d.drinkId == drinkId)[0];
        // console.log(drink);






        //

        console.log(total_input_amount);
        console.log(total_vending_amount);
        console.log(total_customer_amount);










        // function inputAmount(amount) {
        //     if (total_customer_amount >= document.getElementsByName("name").value) {
        //         console.log(total_customer_amount)
        //     }
        // }
    </script>
</body>

</html>